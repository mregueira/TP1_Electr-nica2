Version 4
SHEET 1 1564 2024
WIRE -608 -128 -720 -128
WIRE -288 -128 -608 -128
WIRE -32 -128 -288 -128
WIRE 272 -128 -32 -128
WIRE 592 -128 272 -128
WIRE 704 -128 592 -128
WIRE -720 -112 -720 -128
WIRE 704 -112 704 -128
WIRE -608 -96 -608 -128
WIRE 592 -96 592 -128
WIRE -608 16 -608 -16
WIRE 592 16 592 -16
WIRE -720 64 -720 16
WIRE -672 64 -720 64
WIRE 704 64 704 16
WIRE 704 64 656 64
WIRE -720 80 -720 64
WIRE 704 80 704 64
WIRE -608 224 -608 112
WIRE -608 224 -736 224
WIRE -384 224 -608 224
WIRE 592 224 592 112
WIRE 592 224 368 224
WIRE 720 224 592 224
WIRE -736 256 -736 224
WIRE 720 256 720 224
WIRE -288 288 -288 -128
WIRE 272 288 272 -128
WIRE -608 336 -608 224
WIRE -384 336 -384 224
WIRE -352 336 -384 336
WIRE 368 336 368 224
WIRE 368 336 336 336
WIRE 592 336 592 224
WIRE -736 384 -736 336
WIRE -672 384 -736 384
WIRE 720 384 720 336
WIRE 720 384 656 384
WIRE -736 400 -736 384
WIRE 720 400 720 384
WIRE -736 528 -736 480
WIRE -608 528 -608 432
WIRE -608 528 -736 528
WIRE 592 528 592 432
WIRE 720 528 720 480
WIRE 720 528 592 528
WIRE -1008 544 -1024 544
WIRE -864 544 -944 544
WIRE -288 544 -288 384
WIRE 272 544 272 384
WIRE 864 560 848 560
WIRE 992 560 944 560
WIRE 1328 608 1328 576
WIRE 1328 608 1232 608
WIRE 1232 624 1232 608
WIRE -1024 640 -1024 544
WIRE -992 640 -1024 640
WIRE -864 640 -864 544
WIRE -864 640 -912 640
WIRE -736 640 -864 640
WIRE 1328 640 1328 608
WIRE 992 656 992 560
WIRE 992 656 944 656
WIRE 1008 656 992 656
WIRE 592 672 592 528
WIRE 848 672 848 560
WIRE 848 672 592 672
WIRE 880 672 848 672
WIRE -288 688 -288 624
WIRE -96 688 -288 688
WIRE -48 688 -96 688
WIRE 80 688 32 688
WIRE 272 688 272 624
WIRE 272 688 80 688
WIRE 992 688 944 688
WIRE -1152 752 -1200 752
WIRE -1024 752 -1024 640
WIRE -1024 752 -1072 752
WIRE -976 752 -1024 752
WIRE -864 768 -912 768
WIRE -608 768 -608 528
WIRE -608 768 -864 768
WIRE -288 768 -288 688
WIRE 272 768 272 688
WIRE -976 784 -1008 784
WIRE -96 784 -96 688
WIRE 80 784 80 688
WIRE 992 800 992 688
WIRE 1040 800 992 800
WIRE -1008 848 -1008 784
WIRE -1008 848 -1216 848
WIRE -1008 880 -1008 848
WIRE -1216 896 -1216 848
WIRE -96 912 -96 784
WIRE -80 912 -96 912
WIRE -1008 976 -1008 960
WIRE -1216 1008 -1216 976
WIRE -288 1024 -288 848
WIRE 272 1024 272 848
WIRE -352 1072 -384 1072
WIRE 368 1072 336 1072
WIRE -608 1136 -608 768
WIRE -384 1136 -384 1072
WIRE -384 1136 -608 1136
WIRE 368 1136 368 1072
WIRE 592 1136 592 672
WIRE 592 1136 368 1136
WIRE -288 1264 -288 1120
WIRE 0 1264 -288 1264
WIRE 272 1264 272 1120
WIRE 272 1264 0 1264
WIRE 256 1376 224 1376
WIRE 352 1376 320 1376
WIRE 224 1472 224 1376
WIRE 240 1472 224 1472
WIRE 352 1472 352 1376
WIRE 352 1472 320 1472
WIRE 80 1600 80 784
WIRE 96 1600 80 1600
WIRE 224 1600 224 1472
WIRE 224 1600 176 1600
WIRE 256 1600 224 1600
WIRE 352 1616 352 1472
WIRE 352 1616 320 1616
WIRE 256 1632 224 1632
WIRE -80 1712 -80 912
WIRE 96 1712 -80 1712
WIRE 224 1712 224 1632
WIRE 224 1712 176 1712
WIRE 224 1776 224 1712
WIRE -736 1840 -736 640
WIRE -512 1840 -736 1840
WIRE -464 1840 -512 1840
WIRE -400 1840 -464 1840
WIRE 352 1840 352 1616
WIRE 352 1840 -320 1840
WIRE -464 1888 -464 1840
WIRE -464 2000 -464 1968
FLAG -720 160 0
FLAG -864 768 OUT2
FLAG 1088 656 OUT2
FLAG 704 160 0
FLAG 1232 624 0
FLAG 1328 496 +VCC
FLAG 1328 720 -VCC
FLAG -944 736 +VCC
FLAG 912 640 +VCC
FLAG 288 1584 +VCC
FLAG -32 -128 +VCC
FLAG -96 784 Vo1
FLAG 80 784 Vo2
FLAG -464 2000 0
FLAG -512 1840 x
FLAG 1120 800 0
FLAG 304 1776 0
FLAG 0 1264 -VCC
FLAG -944 800 -VCC
FLAG 288 1648 -VCC
FLAG 912 704 -VCC
FLAG -1216 1008 0
FLAG -1264 752 0
FLAG -1216 848 VI
FLAG -1008 976 0
SYMBOL pnp -672 112 M180
SYMATTR InstName Q1
SYMATTR Value BC327-25
SYMBOL diode -736 -112 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -736 -48 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res -624 -112 R0
SYMATTR InstName R1
SYMATTR Value 270
SYMBOL res -736 64 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL Opamps\\opamp2 -944 704 R0
SYMATTR InstName U1
SYMATTR Value TL081
SYMATTR SpiceModel TL081
SYMBOL Opamps\\opamp2 912 608 M0
SYMATTR InstName U2
SYMATTR Value TL081
SYMATTR SpiceModel TL081
SYMBOL res -896 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 190k
SYMBOL res 960 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 1104 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL npn -672 336 R0
SYMATTR InstName Q7
SYMATTR Value BC337-25
SYMBOL res -752 240 R0
SYMATTR InstName R12
SYMATTR Value 7k
SYMBOL res -752 384 R0
SYMATTR InstName R13
SYMATTR Value 2.7k
SYMBOL npn -352 288 R0
WINDOW 0 39 27 Left 2
WINDOW 3 32 54 Left 2
SYMATTR InstName Q4
SYMATTR Value TIP122
SYMATTR Prefix X
SYMBOL res -304 528 R0
SYMATTR InstName R19
SYMATTR Value 0.33
SYMBOL res -304 752 R0
SYMATTR InstName R20
SYMATTR Value 0.33
SYMBOL pnp -352 1120 M180
WINDOW 0 39 34 Left 2
WINDOW 3 36 55 Left 2
SYMATTR InstName Q9
SYMATTR Value TIP127
SYMATTR Prefix X
SYMBOL pnp 656 112 R180
SYMATTR InstName Q2
SYMATTR Value BC327-25
SYMBOL diode 720 -112 M0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 720 -48 M0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res 608 -112 M0
SYMATTR InstName R3
SYMATTR Value 270
SYMBOL res 720 64 M0
SYMATTR InstName R4
SYMATTR Value 4.7k
SYMBOL npn 656 336 M0
SYMATTR InstName Q8
SYMATTR Value BC337-25
SYMBOL res 736 240 M0
SYMATTR InstName R15
SYMATTR Value 7k
SYMBOL res 736 384 M0
SYMATTR InstName R16
SYMATTR Value 2.7k
SYMBOL npn 336 288 M0
WINDOW 0 39 27 Left 2
WINDOW 3 32 54 Left 2
SYMATTR InstName Q12
SYMATTR Value TIP122
SYMATTR Prefix X
SYMBOL res 288 528 M0
SYMATTR InstName R26
SYMATTR Value 0.33
SYMBOL res 288 752 M0
SYMATTR InstName R27
SYMATTR Value 0.33
SYMBOL pnp 336 1120 R180
WINDOW 0 39 34 Left 2
WINDOW 3 36 55 Left 2
SYMATTR InstName Q15
SYMATTR Value TIP127
SYMATTR Prefix X
SYMBOL res 48 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RL
SYMATTR Value 8
SYMBOL Opamps\\opamp2 288 1552 R0
SYMATTR InstName U3
SYMATTR Value TL081
SYMATTR SpiceModel TL081
SYMBOL res 336 1456 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 1k
SYMBOL res 192 1584 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 2k
SYMBOL res 192 1696 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value 2k
SYMBOL Misc\\battery 1328 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL Misc\\battery 1328 624 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 14.3
SYMBOL cap 256 1360 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL current -464 1968 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 24 -28 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Ii
SYMATTR Value ""
SYMATTR Value2 AC {u(prb)}
SYMBOL voltage -416 1840 R270
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 60 56 VTop 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vi
SYMATTR Value ""
SYMATTR Value2 AC {u(-prb)}
SYMBOL res 1136 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 5k
SYMBOL res 320 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL res -1056 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL cap -1200 736 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 940n
SYMBOL cap -944 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 33p
SYMBOL Misc\\signal -1216 880 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 0.5 1k)
SYMBOL res -1024 864 R0
SYMATTR InstName R7
SYMATTR Value 56k
TEXT -1248 1704 Left 2 !.tran 0 4m 0 0.1m
TEXT 760 1080 Left 2 !.inc "..\\Librerias\\TL081.301"
TEXT 760 1120 Left 2 !.lib "..\\Librerias\\TIP122.lib"
TEXT 776 1160 Left 2 !.lib "..\\Librerias\\TIP127.lib"
TEXT -1264 1760 Left 2 ;.ac dec 1000 2 2000k
TEXT -1328 1840 Left 2 ;.step param prb list -1 1 ; set prb=0 to turn off probe
TEXT -1360 1904 Left 2 ;-1/(1-1/(2*(I(Vi)@1*V(x)@2-V(x)@1*I(Vi)@2)+V(x)@1+I(Vi)@2))
TEXT -1216 2008 Left 2 !.param prb=0
